warning: fields `cell_size`, `cols`, `rows`, and `scheme` are never read
  --> visionctl/src/primitives/grid.rs:86:9
   |
85 | pub struct GridMetadata {
   |            ------------ fields in this struct
86 |     pub cell_size: u32,
   |         ^^^^^^^^^
87 |     pub cols: u32,
   |         ^^^^
88 |     pub rows: u32,
   |         ^^^^
89 |     pub scheme: LabelScheme,
   |         ^^^^^^
   |
   = note: `GridMetadata` has derived impls for the traits `Debug` and `Clone`, but these are intentionally ignored during dead code analysis
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: fields `width`, `height`, `grid`, and `cursor_pos` are never read
  --> visionctl/src/primitives/screenshot.rs:22:9
   |
20 | pub struct ScreenshotData {
   |            -------------- fields in this struct
21 |     pub png_bytes: Vec<u8>,
22 |     pub width: u32,
   |         ^^^^^
23 |     pub height: u32,
   |         ^^^^^^
24 |     pub grid: Option<GridMetadata>,
   |         ^^^^
25 |     pub cursor_pos: Option<CursorPos>,
   |         ^^^^^^^^^^
   |
   = note: `ScreenshotData` has derived impls for the traits `Debug` and `Clone`, but these are intentionally ignored during dead code analysis

warning: `visionctl` (lib) generated 2 warnings
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.16s
     Running unittests src/lib.rs (target/debug/deps/inputctl-1f4a88ecd0181d36)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 19 filtered out; finished in 0.00s

     Running tests/integration.rs (target/debug/deps/integration-48428d92f10b235e)

running 1 test

=== Smooth Mouse Movement Accuracy Test ===

Initial cursor position: (3819, 927)

Test: Move right 200px (no noise) (noise=0)
  Before: (3819, 927)
[DEBUG] move_mouse_smooth: requested=(200, 0), steps=30, total_emitted=(200, 0)
  After:  (4019, 927)
  Requested: (200, 0)
  Actual:    (200, 0)
  Error:     (0, 0) [+/-]

Test: Move down 200px (no noise, ease) (noise=0)
  Before: (4019, 927)
[DEBUG] move_mouse_smooth: requested=(0, 200), steps=30, total_emitted=(0, 200)
  After:  (4019, 1207)
  Requested: (0, 200)
  Actual:    (0, 280)
  Error:     (0, 80) [+/-]

Test: Move left 200px (default noise) (noise=2)
  Before: (4019, 1207)
[DEBUG] move_mouse_smooth: requested=(-200, 0), steps=30, total_emitted=(-200, 0)
  After:  (3818, 1207)
  Requested: (-200, 0)
  Actual:    (-201, 0)
  Error:     (-1, 0) [+/-]

Test: Move up 200px (default noise, ease) (noise=2)
  Before: (3818, 1207)
[DEBUG] move_mouse_smooth: requested=(0, -200), steps=30, total_emitted=(0, -200)
  After:  (3819, 925)
  Requested: (0, -200)
  Actual:    (1, -282)
  Error:     (1, -82) [+/-]

=== Random Movement Tests ===
[DEBUG] move_mouse_smooth: requested=(196, -296), steps=18, total_emitted=(196, -296)
Random #1: req=(196, -296), actual=(355, -537), error=(159, -241)
[DEBUG] move_mouse_smooth: requested=(97, -280), steps=18, total_emitted=(97, -280)
Random #2: req=(97, -280), actual=(158, -388), error=(61, -108)
[DEBUG] move_mouse_smooth: requested=(-67, 238), steps=18, total_emitted=(-67, 238)
Random #3: req=(-67, 238), actual=(-98, 345), error=(-31, 107)
[DEBUG] move_mouse_smooth: requested=(266, 83), steps=18, total_emitted=(266, 83)
Random #4: req=(266, 83), actual=(412, 129), error=(146, 46)
[DEBUG] move_mouse_smooth: requested=(68, -184), steps=18, total_emitted=(68, -184)
Random #5: req=(68, -184), actual=(86, -235), error=(18, -51)
[DEBUG] move_mouse_smooth: requested=(224, 55), steps=18, total_emitted=(224, 55)
Random #6: req=(224, 55), actual=(311, 76), error=(87, 21)
[DEBUG] move_mouse_smooth: requested=(234, 38), steps=18, total_emitted=(234, 38)
Random #7: req=(234, 38), actual=(330, 54), error=(96, 16)
[DEBUG] move_mouse_smooth: requested=(-55, -39), steps=18, total_emitted=(-55, -39)
Random #8: req=(-55, -39), actual=(-55, -39), error=(0, 0)
[DEBUG] move_mouse_smooth: requested=(-247, -59), steps=18, total_emitted=(-247, -59)
Random #9: req=(-247, -59), actual=(-362, -86), error=(-115, -27)
[DEBUG] move_mouse_smooth: requested=(-200, 66), steps=18, total_emitted=(-200, 66)
Random #10: req=(-200, 66), actual=(-264, 87), error=(-64, 21)
[DEBUG] move_mouse_smooth: requested=(-262, -229), steps=18, total_emitted=(-262, -229)
Random #11: req=(-262, -229), actual=(-469, -331), error=(-207, -102)
[DEBUG] move_mouse_smooth: requested=(-124, 96), steps=18, total_emitted=(-124, 96)
Random #12: req=(-124, 96), actual=(-143, 110), error=(-19, 14)
[DEBUG] move_mouse_smooth: requested=(283, -149), steps=18, total_emitted=(283, -149)
Random #13: req=(283, -149), actual=(479, -110), error=(196, 39)
[DEBUG] move_mouse_smooth: requested=(-300, 227), steps=18, total_emitted=(-300, 227)
Random #14: req=(-300, 227), actual=(-570, 432), error=(-270, 205)
[DEBUG] move_mouse_smooth: requested=(-108, 147), steps=18, total_emitted=(-108, 147)
Random #15: req=(-108, 147), actual=(-134, 182), error=(-26, 35)
[DEBUG] move_mouse_smooth: requested=(-218, -233), steps=18, total_emitted=(-218, -233)
Random #16: req=(-218, -233), actual=(-369, -395), error=(-151, -162)
[DEBUG] move_mouse_smooth: requested=(-155, 154), steps=18, total_emitted=(-155, 154)
Random #17: req=(-155, 154), actual=(-209, 208), error=(-54, 54)
[DEBUG] move_mouse_smooth: requested=(231, -179), steps=18, total_emitted=(231, -179)
Random #18: req=(231, -179), actual=(369, -286), error=(138, -107)
[DEBUG] move_mouse_smooth: requested=(-193, -195), steps=18, total_emitted=(-193, -195)
Random #19: req=(-193, -195), actual=(-298, -141), error=(-105, 54)
[DEBUG] move_mouse_smooth: requested=(222, 84), steps=18, total_emitted=(222, 84)
Random #20: req=(222, 84), actual=(314, 119), error=(92, 35)

=== Error Analysis ===
X-axis errors: min=-270, max=196, avg=-2.27
All X errors: [0, -1, 159, 61, -31, 146, 18, 87, 96, 0, -115, -64, -207, -19, 196, -270, -26, -151, -54, 138, -105, 92]
Y-axis errors: min=-241, max=205, avg=-6.95
All Y errors: [80, -82, -241, -108, 107, 46, -51, 21, 16, 0, -27, 21, -102, 14, 39, 205, 35, -162, 54, -107, 54, 35]

=== FAILURES ===
  down 200px (no noise, ease): expected (0, 200), got (0, 280), error (0, 80)
  up 200px (default noise, ease): expected (0, -200), got (1, -282), error (1, -82)

thread 'test_smooth_mouse_movement_accuracy' (4054189) panicked at inputctl/tests/integration.rs:400:9:

2 test cases failed. See error analysis above.
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
test test_smooth_mouse_movement_accuracy ... FAILED

failures:

failures:
    test_smooth_mouse_movement_accuracy

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 17 filtered out; finished in 17.17s

error: test failed, to rerun pass `-p inputctl --test integration`
